// ==UserScript==
// @name         Revolt Auto-Claim Tickets
// @namespace    https://example.com
// @description  Auto-Claim Tickets by @KidKhy on Telegram or "kidkh" on Discord v2
// @match        https://revolt.onech.at/*
// @match        https://revolt-autumn.onech.at/*
// @run-at       document-idle
// @grant        GM_registerMenuCommand
// @grant        GM_unregisterMenuCommand
// ==/UserScript==

function _0x59b1(_0x378458,_0x33a2a0){const _0x5ae031=_0x5ae0();return _0x59b1=function(_0x59b171,_0x454459){_0x59b171=_0x59b171-0x74;let _0x244fed=_0x5ae031[_0x59b171];return _0x244fed;},_0x59b1(_0x378458,_0x33a2a0);}function _0x5ae0(){const _0x171f20=['popstate','✅\x20\x20Resume\x20ticket-sniper','5622936aHZiSF','call','body','12px','add','50%','data-alert','altKey','147411lYpugU','removeAttribute','.ServerSidebar__ServerList-sc-1lca5oe-1','forEach','KeyS','querySelector','352wsZZMf','Ticket-sniper\x20status','aria-label','set','limegreen','style','match','target','dispatchEvent','includes','matches','attributes','\x22][data-alert=\x22true\x22]','value','pathname','pushState','5727312EjUfiz','querySelectorAll','appendChild','0\x200\x204px\x20rgba(0,0,0,.4)','observe','fixed','createElement','preventDefault','keydown','4VuUjxK','130FoUnky','test','delete','code','__proto__','background','1UlmKru','/server/','Enter','getAttribute','now','[aria-label^=\x22ticket-\x22][data-alert]','14px','135674BDAobe','1882794ljjDry','521256axpiId','href','10SZqoIg','function','/claim','assign','814174eKUAZb'];_0x5ae0=function(){return _0x171f20;};return _0x5ae0();}(function(_0x1b6607,_0x5091b6){const _0xf09d78=_0x59b1,_0x19a4c0=_0x1b6607();while(!![]){try{const _0x5513c7=parseInt(_0xf09d78(0x7a))/0x1*(-parseInt(_0xf09d78(0x89))/0x2)+-parseInt(_0xf09d78(0x82))/0x3*(-parseInt(_0xf09d78(0xb3))/0x4)+-parseInt(_0xf09d78(0x85))/0x5*(parseInt(_0xf09d78(0x83))/0x6)+-parseInt(_0xf09d78(0x81))/0x7*(parseInt(_0xf09d78(0x9a))/0x8)+parseInt(_0xf09d78(0xaa))/0x9+parseInt(_0xf09d78(0x74))/0xa*(parseInt(_0xf09d78(0x94))/0xb)+parseInt(_0xf09d78(0x8c))/0xc;if(_0x5513c7===_0x5091b6)break;else _0x19a4c0['push'](_0x19a4c0['shift']());}catch(_0x32dfcc){_0x19a4c0['push'](_0x19a4c0['shift']());}}}(_0x5ae0,0x73816),((()=>{'use strict';const _0x589ecf=_0x59b1;const _0x2aeabe=0x64,_0x430759='';let _0x3fe0d9=!![],_0x2c092c;const _0x52b4fc=Object[_0x589ecf(0x88)](document[_0x589ecf(0xb0)]('div'),{'title':_0x589ecf(0x9b)});Object['assign'](_0x52b4fc[_0x589ecf(0x9f)],{'position':_0x589ecf(0xaf),'bottom':'12px','right':_0x589ecf(0x8f),'width':_0x589ecf(0x80),'height':_0x589ecf(0x80),'borderRadius':_0x589ecf(0x91),'background':_0x589ecf(0x9e),'zIndex':0x270f,'boxShadow':_0x589ecf(0xad)}),document[_0x589ecf(0x8e)][_0x589ecf(0xac)](_0x52b4fc);const _0x3f7ed4=()=>{const _0x5585d7=_0x589ecf;_0x3fe0d9=!_0x3fe0d9,_0x52b4fc[_0x5585d7(0x9f)][_0x5585d7(0x79)]=_0x3fe0d9?_0x5585d7(0x9e):'crimson',_0x366e0b();},_0x366e0b=()=>{const _0x540ab5=_0x589ecf;if(typeof GM_unregisterMenuCommand===_0x540ab5(0x86)&&_0x2c092c!=null)GM_unregisterMenuCommand(_0x2c092c);_0x2c092c=GM_registerMenuCommand(_0x3fe0d9?'❌\x20\x20Pause\x20ticket-sniper':_0x540ab5(0x8b),_0x3f7ed4);};_0x366e0b();const _0x1d2e05=_0x4bfecf=>new Promise(_0x5d1eb4=>{const _0x271cc1=setInterval(()=>{const _0x4da429=document['querySelector'](_0x4bfecf);_0x4da429&&(clearInterval(_0x271cc1),_0x5d1eb4(_0x4da429));},0x1e);}),_0x56d935=(_0xc3c978,_0x39b129)=>{const _0xfb65dd=_0x589ecf;Object['getOwnPropertyDescriptor'](_0xc3c978[_0xfb65dd(0x78)],_0xfb65dd(0xa7))[_0xfb65dd(0x9d)][_0xfb65dd(0x8d)](_0xc3c978,_0x39b129),_0xc3c978[_0xfb65dd(0xa2)](new Event('input',{'bubbles':!![]}));},_0x1d934b=async _0x46bbe0=>{const _0x152c68=_0x589ecf,_0x5453f9=await _0x1d2e05('textarea#message');_0x56d935(_0x5453f9,_0x46bbe0),[_0x152c68(0xb2),'keyup']['forEach'](_0x30dd9f=>_0x5453f9['dispatchEvent'](new KeyboardEvent(_0x30dd9f,{'key':_0x152c68(0x7c),'code':_0x152c68(0x7c),'bubbles':!![]})));},_0x4c65e3=()=>_0x3fe0d9&&_0x1d934b(_0x589ecf(0x87)+_0x430759),_0x1ac4fd=()=>(location[_0x589ecf(0xa8)][_0x589ecf(0xa0)](/\/server\/([^/]+)/)||[])[0x1]||null;let _0x4a4b40=_0x1ac4fd();addEventListener(_0x589ecf(0x8a),()=>{_0x4a4b40=_0x1ac4fd();}),((async()=>{const _0x540cff=_0x589ecf,_0x594aff=await _0x1d2e05(_0x540cff(0x96)),_0x2fc609=new Set();let _0x27e33b=0x0;const _0x3844b9=()=>{const _0x4a4f74=_0x540cff;if(!_0x3fe0d9)return;_0x27e33b=performance[_0x4a4f74(0x7e)]()+0x12c;const _0x3c9948=performance[_0x4a4f74(0x7e)](),_0x338890=setInterval(()=>{const _0x2bf891=_0x4a4f74;if(!_0x3fe0d9||performance[_0x2bf891(0x7e)]()-_0x3c9948>=_0x2aeabe){clearInterval(_0x338890);return;}_0x4c65e3();},0x0);_0x4c65e3();},_0x259dac=_0x3ed6f9=>{const _0xe47579=_0x540cff,_0x206748=_0x3ed6f9[_0xe47579(0x7d)](_0xe47579(0x9c));if(!_0x206748||_0x2fc609['has'](_0x206748)||!/^ticket-\d+/i[_0xe47579(0x75)](_0x206748))return;const _0x11a76f=_0x3ed6f9['closest']('a')?.['getAttribute'](_0xe47579(0x84))||'';if(!_0x11a76f[_0xe47579(0xa3)](_0xe47579(0x7b)+_0x4a4b40+'/')||performance[_0xe47579(0x7e)]()<_0x27e33b)return;_0x2fc609[_0xe47579(0x90)](_0x206748),requestAnimationFrame(()=>{const _0x20dd7c=_0xe47579,_0x291a44=document[_0x20dd7c(0x99)]('[aria-label=\x22'+_0x206748+_0x20dd7c(0xa6));if(!_0x291a44){_0x2fc609[_0x20dd7c(0x76)](_0x206748);return;}location[_0x20dd7c(0xa8)]!==_0x11a76f&&(history[_0x20dd7c(0xa9)]({},'',_0x11a76f),dispatchEvent(new PopStateEvent(_0x20dd7c(0x8a)))),_0x291a44[_0x20dd7c(0x95)](_0x20dd7c(0x92)),_0x3844b9();});};_0x594aff[_0x540cff(0xab)](_0x540cff(0x7f))[_0x540cff(0x97)](_0x259dac),new MutationObserver(_0x4f680b=>{const _0x5aa772=_0x540cff;if(!_0x3fe0d9)return;_0x4f680b[_0x5aa772(0x97)](_0x172cdf=>{const _0x25c9b9=_0x5aa772;_0x172cdf['addedNodes'][_0x25c9b9(0x97)](_0x45c1aa=>{const _0x3ac43b=_0x25c9b9;if(!(_0x45c1aa instanceof HTMLElement))return;(_0x45c1aa[_0x3ac43b(0xa4)]?.('[aria-label^=\x22ticket-\x22]')?[_0x45c1aa]:[..._0x45c1aa[_0x3ac43b(0xab)]?.('[aria-label^=\x22ticket-\x22]')||[]])['forEach'](_0x259dac);});if(_0x172cdf['type']===_0x25c9b9(0xa5)&&_0x172cdf['attributeName']==='data-alert'&&_0x172cdf[_0x25c9b9(0xa1)]['matches']?.(_0x25c9b9(0x7f)))_0x259dac(_0x172cdf['target']);});})[_0x540cff(0xae)](_0x594aff,{'childList':!![],'subtree':!![],'attributes':!![],'attributeFilter':[_0x540cff(0x92)]}),setInterval(()=>{const _0x853f00=_0x540cff;if(!_0x3fe0d9)return;_0x4a4b40=_0x1ac4fd(),_0x594aff[_0x853f00(0xab)](_0x853f00(0x7f))['forEach'](_0x259dac);},0x190);})()),addEventListener(_0x589ecf(0xb2),_0x3f0ff1=>{const _0xfa3aa2=_0x589ecf;_0x3f0ff1[_0xfa3aa2(0x93)]&&_0x3f0ff1[_0xfa3aa2(0x77)]===_0xfa3aa2(0x98)&&(_0x3f7ed4(),_0x3f0ff1[_0xfa3aa2(0xb1)]());},!![]);})()));
